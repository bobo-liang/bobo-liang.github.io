---
layout: post
title: 'One Million Scenes for Autonomous Driving ONCE Dataset'
date: 2021-12-28
author: Poley
cover: '/assets/img/20211228/ONCE.png'
tags: 论文阅读
---

ONCE数据集的规模对标现在最大的数据集Waymo和Nuscenes，但是其更多的关注与自监督和半监督方法的benchmark，其中包含大量的无标注数据。ONCE数据集包含更长的数据采集时间（144小时）和更多的点云Scenes（1M），并且采集自不同的区域、时间和天气状况。个人认为对于本篇文献的学习对于我们以后采集数据并构建自己的数据集具有参考性的意义。

3D数据标注的成本高昂。**一个数据采集车工作8小时可以采集超过200k frame数据（10Hz情况下，8*3600*10 = 288k），然而一个富有经验的工作者一天只能标注100-200帧数据**。这就会导致高昂的标注成本和大量无标签数据的出现，如何利用这些无标签数据就是一个非常需要解决的问题。

本数据集包含5个类别，分别是car, bus, truck, pedestrian和cyclist。数据集也提供了一些经典的自监督和半监督学习算法，以及无监督域适应算法的Baseline。笔者认为非常值得学习。

其数据量和其他数据集对比如下，可以看到其在数据量上远超其他数据集，但是在标注量上较少，主要是提供大量的无标签数据。
![](/assets/img/20211228/ONCET1.png)

## Data Acquisition System

由于笔者以后也要搭建一套数据采集系统，因此这部分的内容具有一定的参考意义。

在传感器规格上，ONCE使用1个40线激光雷达和7个摄像头组成360度环视的LiDAR和Image数据，其部署如下所示。注意到，所有的相机都需要进行仔细的校准内参和外参，使用校准目标板即可以实现。为了保证数据的准确性，这里作者**每天**都对相机内外参数进行重新校准，并且修正错误。以后笔者创建的数据采集系统同样可能需要经常拆卸，因此显然每次安装时都需要进行校准来保证数据的准确性，这非常关键。有一种方法可以比较简单的可视化相机和激光雷达的校准情况，即把激光雷达点云投影到图像上，来观察两者的一致性。

![](/assets/img/20211228/ONCEF2.png)
![](/assets/img/20211228/ONCET2.png)

在数据采集和标注上，所有数据都来自于中国。数据采用商业标注系统，并且包含double-check process用于验证和refine，以保证最终给出高质量的3D box。

在数据保护上，**首先，需要准守当地的法律信息**，避免泄露任何定位信息，包括GPS和地图信息。同时对于个人隐私的保护也需要注意，比如以高召回率对于人脸和车牌进行打码。虽然这是对于公开数据集的要求，而笔者以后所建立的数据集并不一定公开，但仍然是需要注意的内容。

## Data Format
大部分数据格式和其他激光雷达数据集一样，不再过多赘述。

在数据集的采集和划分上，需要注意到场景的多样性及其各种类别的比例。这里包含的场景有：天气（晴天、多云、下雨）；时间（早中下晚），地点（市区，郊区，隧道、高速、桥梁）等。

## Data Analysis

在数据质量上，和Waymo以及Nuscenes对比，在ONCE上预训练的数据集具有最好的迁移效果，说明数据集的质量较好。数据集不同场景包含的比例如下。

![](/assets/img/20211228/ONCET3.png)
![](/assets/img/20211228/ONCET4.png)

## Benchmark for 3D Object Detection
作者在ONCE数据集上做了一些Baseline实验的对比，可以对以后的实验提供一些经验。内容较多，这里只简单记录一些结论。

### Models
Points vs. voxels vs. pillars，作者发现实际效果points方法最差，可能是由于其对于小目标来说，只有很小一部分点被利用，从而不能实现高召回率。其次是pillars, 最好是voxels，可能是由于voxels包含了更加丰富的几何信息。

Anchor assignments vs. center assignments，作者发现对于大目标来说，Anchor效果更好，而对于小目标（Pedestian, Cyclist）来说，center效果更好。**作者认为，这是由于Center-based方法体现出更强的定位能力，这对小目标检测更关键，而基于Anchor的方法对于尺寸的估计更加准确，有利于大目标。**

### Self-Supervised Learning
实验表明在拥有足够无标注数据的情况下，自监督方法可以提升网络的性能。
![](/assets/img/20211228/ONCET6.png)

conteastive learning vs. clustering, 作者发现基于聚类的方法比基于对比学习的方法更好。这主要是由于建立具有代表性的3D场景视角用于对比学习并不简单。通常对于同一点云的增强可能会导致quite similar views从而使得预训练阶段变得非常容易收敛到一个无用的结果上。

### Semi-Supervised Learning
实验表明在拥有足够无标注数据的情况下，半监督方法可以大幅提升网络的性能。
![](/assets/img/20211228/ONCET7.png)

pseudo labels vs. consistency, 作者发现consistency的表现普遍由于psuedo labeles方法，其中Meanteacher方法最优。

实验表明半监督方法比自监督方法效果更好，这也符合常理，因为半监督方法所获得的准确监督信息更多，而自监督方法往往只能通过聚类等方法实现。

注：上述所有网络的实现细节均在论文附录中，并且github上也提供了源码，非常有利于学习。



