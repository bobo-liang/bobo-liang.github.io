I"å<p>Transforms å·²ç»åœ¨NLPé‡Œåº”ç”¨å¹¿æ³›ï¼Œä½†æ˜¯ç”±äºå…¶$O(n^2)$çš„å¤æ‚åº¦ï¼Œå¹¶ä¸é€‚åˆç›´æ¥åº”ç”¨äºå›¾åƒä¸­çš„åƒç´ ã€‚æœ¬æ–‡å°†å›¾åƒåˆ‡å‰²æˆpatchsï¼Œå¹¶ä¸”æä¾›çº¿æ€§çš„embeddingså¯¹è¿™äº›patchï¼Œå½“ä½œTransformsçš„è¾“å…¥ã€‚ä¹Ÿå°±æ˜¯å°†Image patchså½“ä½œNLPåº”ç”¨ä¸­çš„tokenæ¥å¤„ç†ã€‚</p>

<p>ç›®å‰å·²ç»æœ‰ä¸€äº›æ–¹æ³•å°†Transformeråº”ç”¨åœ¨CVä¸Šï¼Œä½†æ˜¯å½“ä»–ä»¬åœ¨ä¸­ç­‰å¤§å°çš„æ•°æ®åŠä¸Šè®­ç»ƒè€Œä¸ä½¿ç”¨å¼ºåŠ›çš„æ­£åˆ™æ—¶ï¼Œç»“æœåŒå¤§å°çš„ResNetå·®å‡ ä¸ªç‚¹ã€‚è¿™ç§ä»¤äººæ²®ä¸§çš„ç»“æœæ˜¯ä¼¼ä¹æ˜¯å¯ä»¥é¢„çŸ¥çš„ï¼Œå› ä¸ºTransformersç¼ºä¹åƒå·ç§¯ç½‘ç»œä¸€æ ·çš„å½’çº³åç½®çš„èƒ½åŠ›ï¼Œ<strong>such as translation equivariance and locality</strong>ã€‚</p>

<p>ä½†ä½œè€…å‘ç°ï¼Œå¤§è§„æ¨¡çš„è®­ç»ƒèƒœè¿‡å½’çº³åç½®ã€‚ViTåœ¨è¶…å¤§æ•°æ®é›†ä¸Šè®­ç»ƒè¾¾åˆ°äº†SOATã€‚</p>

<p>ViTæ¨¡å‹æ€»ä½“ç»“æ„å¦‚ä¸‹æ‰€ç¤º</p>

<p><img src="/assets/img/20210826/ViTF1.png" alt="" /></p>

<p>å…¶è¾“è¡€å‹æ˜¯å¯ä»¥è¡¨ç¤ºå¦‚ä¸‹ï¼Œå…¶ä¸­MSAå¯ä»¥åŒ…å«å¤šå±‚æ³¨æ„åŠ›å±‚</p>

\[\begin{equation}
\begin{aligned}
\mathbf{z}_{0} &amp;=\left[\mathbf{x}_{\text {class }} ; \mathbf{x}_{p}^{1} \mathbf{E} ; \mathbf{x}_{p}^{2} \mathbf{E} ; \cdots ; \mathbf{x}_{p}^{N} \mathbf{E}\right]+\mathbf{E}_{\text {pos }}, &amp; \mathbf{E} \in \mathbb{R}^{\left(P^{2} \cdot C\right) \times D}, \mathbf{E}_{p o s} \in \mathbb{R}^{(N+1) \times D} \\
\mathbf{z}^{\prime} &amp;=\operatorname{MSA}\left(\operatorname{LN}\left(\mathbf{z}_{\ell-1}\right)\right)+\mathbf{z}_{\ell-1}, &amp; \ell=1 \ldots L \\
\mathbf{z}_{\ell} &amp;=\operatorname{MLP}\left(\operatorname{LN}\left(\mathbf{z}^{\prime}{ }_{\ell}\right)\right)+\mathbf{z}^{\prime} \ell, &amp; \ell=1 \ldots L \\
\mathbf{y} &amp;=\operatorname{LN}\left(\mathbf{z}_{L}^{0}\right) &amp;
\end{aligned}
\end{equation}\]
:ET